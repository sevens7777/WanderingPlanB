(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-74588bdb"],{"39dd":function(t,s,i){},8248:function(t,s,i){"use strict";i.r(s);var o=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"box"},[i("div",{staticClass:"top"},[i("img",{staticClass:"book-img",attrs:{src:t.book.img,alt:""}})]),i("div",{staticClass:"body"},[i("div",{staticClass:"data"},[i("div",{staticClass:"row"},[i("div",{staticClass:"left",style:{"border-color":"red"}}),i("div",{staticClass:"middle"},[i("div",{staticClass:"p"},[i("strong",[t._v("书名："+t._s(t.book.name))])])]),i("div",{staticClass:"right",staticStyle:{color:"yellow"}},[i("van-icon",{attrs:{name:"star"}})],1)]),i("div",{staticClass:"line"}),i("div",{staticClass:"row"},[i("div",{staticClass:"left",style:{"border-color":"yellow"}}),i("div",{staticClass:"middle"},[i("div",{staticClass:"p"},[i("strong",[t._v("出版社："+t._s(t.book.press))])])]),i("div",{staticClass:"right",staticStyle:{color:"deepskyblue"}},[i("van-icon",{attrs:{name:"location"}})],1)]),i("div",{staticClass:"line"}),i("div",{staticClass:"row"},[i("div",{staticClass:"left",style:{"border-color":"blue"}}),i("div",{staticClass:"middle"},[i("div",{staticClass:"p"},[i("strong",[t._v("备注："+t._s(t.book.remark))])])]),i("div",{staticClass:"right",staticStyle:{color:"red"}},[i("van-icon",{attrs:{name:"like"}})],1)])]),i("div",{staticClass:"types"},[i("div",{staticClass:"type",class:{selected:"习题册"===t.book.type}},[i("span",{staticClass:"icon",staticStyle:{color:"gainsboro"}},[i("van-icon",{attrs:{name:"todo-list"}})],1),i("span",{staticClass:"label"},[t._v("习题册")])]),i("div",{staticClass:"type",class:{selected:"教材"===t.book.type}},[i("span",{staticClass:"icon",staticStyle:{color:"gainsboro"}},[i("van-icon",{attrs:{name:"column"}})],1),i("span",{staticClass:"label"},[t._v("教材")])]),i("div",{staticClass:"type",class:{selected:"其他"===t.book.type}},[i("span",{staticClass:"icon",staticStyle:{color:"plum"}},[i("van-icon",{attrs:{name:"coupon"}})],1),i("span",{staticClass:"label"},[t._v("其他")])])])]),i("div",{staticClass:"bottom"},[i("div",{staticClass:"left"},[i("van-icon",{attrs:{name:"point-gift"}})],1),i("div",{staticClass:"center"},[i("div",{staticClass:"money"},[i("strong",[t._v("价格："+t._s(t.book.price)+"积分")])]),i("div",{staticClass:"price"},[t._v("书本位置："+t._s(t.book.position))])]),i("div",{staticClass:"right"},[i("button",{on:{click:t.buy}},[t._v("确认购买")])])])])},a=[],e=(i("b0c0"),i("b067")),c=i("2f62"),n=i("c24f"),l={name:"Detail",data:function(){return{book:{img:"",name:"",press:"",price:"",type:"",remark:"",position:"",username:"",dateTime:"",status:"0",lookCount:0}}},computed:Object(c["b"])(["userInfo"]),mounted:function(){this.book=Object(e["d"])(this.$route.query.name),this.book.lookCount++,Object(e["h"])(this.book)},methods:{buy:function(){if(this.userInfo.money>=this.book.price){var t=this.userInfo.money-this.book.price,s=1;void 0!==this.userInfo.buyCount&&(s=this.userInfo.buyCount+1),Object(n["f"])(this.userInfo.username,t,"money"),Object(n["f"])(this.userInfo.username,s,"buyCount"),this.$store.commit("setStatus",{status:"2"}),this.$store.commit("setBookName",{bookName:this.book.name}),this.$store.commit("setPosition",{position:this.book.position}),this.$store.commit("userInfo",Object(n["b"])(this.userInfo.username)),Object(e["c"])(this.book.name),this.$router.push({name:"home"})}else this.$toast.fail("积分不足")}}},r=l,d=(i("bcd9"),i("2877")),b=Object(d["a"])(r,o,a,!1,null,"2dfec020",null);s["default"]=b.exports},bcd9:function(t,s,i){"use strict";i("39dd")}}]);
//# sourceMappingURL=chunk-74588bdb.c8cd6d21.js.map