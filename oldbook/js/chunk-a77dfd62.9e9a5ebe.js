(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a77dfd62"],{1921:function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"background"},[o("div",{staticClass:"form"},[o("van-form",[o("div",{staticClass:"uploader"},[o("van-uploader",{attrs:{"after-read":t.addImg}},[t.book.img?o("img",{attrs:{src:t.book.img,alt:""}}):o("div",{staticClass:"uploader-add"},[o("p",[o("van-icon",{staticStyle:{"font-size":"3rem","font-weight":"bold"},attrs:{name:"add-o"}})],1),o("p",[t._v("添加图片")])])])],1),o("p",[o("label",{attrs:{for:"name"}},[t._v("书名")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.book.name,expression:"book.name"}],attrs:{type:"text",id:"name"},domProps:{value:t.book.name},on:{input:function(e){e.target.composing||t.$set(t.book,"name",e.target.value)}}})]),o("p",[o("label",{attrs:{for:"press"}},[t._v("出版社")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.book.press,expression:"book.press"}],attrs:{type:"text",id:"press"},domProps:{value:t.book.press},on:{input:function(e){e.target.composing||t.$set(t.book,"press",e.target.value)}}})]),o("p",[o("label",{attrs:{for:"price"}},[t._v("价格")]),o("input",{directives:[{name:"model",rawName:"v-model.number",value:t.book.price,expression:"book.price",modifiers:{number:!0}}],attrs:{type:"number",id:"price"},domProps:{value:t.book.price},on:{input:function(e){e.target.composing||t.$set(t.book,"price",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),o("p",[o("label",{attrs:{for:"type"}},[t._v("类别")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.book.type,expression:"book.type"}],attrs:{type:"text",readonly:"",id:"type"},domProps:{value:t.book.type},on:{click:function(e){t.show=!0},input:function(e){e.target.composing||t.$set(t.book,"type",e.target.value)}}})]),o("p",[o("label",[t._v("备注")]),o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.book.remark,expression:"book.remark"}],staticStyle:{height:"118px"},attrs:{id:"remark"},domProps:{value:t.book.remark},on:{input:function(e){e.target.composing||t.$set(t.book,"remark",e.target.value)}}})]),o("div",[o("button",{on:{click:t.addBook}},[t._v("确认")])])])],1),o("div",{staticStyle:{position:"absolute","z-index":"2",width:"100%",bottom:"0"}},[o("van-action-sheet",{attrs:{actions:t.actions},on:{select:t.onSelect},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}})],1)])},s=[],i=(o("b0c0"),o("b067")),n={name:"Add",data:function(){return{show:!1,actions:[{name:"习题册"},{name:"教材"},{name:"其他"}],book:{img:"",name:"",press:"",price:"",type:"",remark:"",position:"xxx",username:"",dateTime:"",status:"0",lookCount:0}}},watch:{"book.name":function(){Object(i["e"])(this.book.name)&&this.$toast.fail("书名已存在")}},methods:{onSelect:function(t){var e=t.name;this.show=!1,this.book.type=e},addImg:function(t){var e=t.content;this.book.img=e},addBook:function(){this.book.img?Object(i["e"])(this.book.name)?this.$toast.fail("书名已存在"):this.book.name?this.book.press?this.book.price?this.book.type?this.book.remark?(this.book.username=this.$store.state.userInfo.username,Object(i["h"])(this.book),this.$store.commit("setStatus",{status:"1"}),this.$store.commit("setBookName",{bookName:this.book.name}),this.$router.push({name:"Success"})):this.$toast.fail("请输入备注"):this.$toast.fail("请选择类别"):this.$toast.fail("请输入价格"):this.$toast.fail("请输入出版社"):this.$toast.fail("请输入书名"):this.$toast.fail("请添加照片")}}},r=n,m=(o("f04a"),o("2877")),c=Object(m["a"])(r,a,s,!1,null,"e45d3bc8",null);e["default"]=c.exports},5504:function(t,e,o){},f04a:function(t,e,o){"use strict";o("5504")}}]);
//# sourceMappingURL=chunk-a77dfd62.9e9a5ebe.js.map